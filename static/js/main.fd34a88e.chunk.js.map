{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/App.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/ErrorNotification/ErrorNotification.js","api/imagesApi/imagesApi.js","components/Modal/Modal.js","components/Button/Button.js","components/App.js","index.js","components/Searchbar/Searcbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","type","autoComplete","autoFocus","placeholder","Component","ImageGallery","onModalOpen","srcset","currentTarget","children","onClick","ImageGalleryItem","isModalOpen","items","map","id","modalURL","url","key","ImageGalleryItemImage","src","alt","srcSet","Loader","color","height","width","timeout","ErrorNotification","text","page","articlesQuery","axios","get","string","incrementPage","resetPage","Modal","backdropRef","createRef","handleKeyPress","onCloseModal","code","handleBackdropClick","current","window","addEventListener","removeEventListener","Overlay","ref","Button","mapper","images","webformatURL","largeImageURL","App","isLoading","error","modalSize","imagesListQuery","imagesApi","then","data","hits","catch","finally","clearImages","fetchImages","searchQuery","handleLoadMore","handleModalUrlChange","handleOpenModal","handleCloseModal","message","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd34a88e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React, { Component } from 'react';\nimport styles from './Searcbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            value={query}\n            onChange={this.handleChange}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styles from './ImageGallery.module.css';\n\nexport default class ImageGallery extends Component {\n  state = {};\n\n  onChange = e => {\n    const { onChange, onModalOpen } = this.props;\n    const { srcset } = e.target;\n\n    if (e.target === e.currentTarget) return;\n\n    onChange(srcset);\n    onModalOpen();\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <>\n        <ul className={styles.ImageGallery} onClick={this.onChange}>\n          {children}\n        </ul>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styles from './ImageGalleryItem.module.css';\n\nexport default class ImageGalleryItem extends Component {\n  state = {\n    isModalOpen: false,\n  };\n\n  render() {\n    const { items } = this.props;\n\n    return (\n      <>\n        {items.map(({ id, modalURL, url }) => (\n          <li key={id}>\n            <img\n              className={styles.ImageGalleryItemImage}\n              src={url}\n              alt=\"\"\n              srcSet={modalURL}\n            />\n          </li>\n        ))}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => (\n  <Spinner\n    className={styles.Loader}\n    type=\"ThreeDots\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport default Loader;\n","import React from 'react';\n\nconst ErrorNotification = ({ text }) => (\n  <h1>What's up, dude? Oops: {text}. ¯\\_(ツ)_/¯</h1>\n);\n\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '15651675-34a5d56e7ceea037b075b1fd1';\n\nexport default {\n  page: 1,\n  query: ' ',\n  articlesQuery() {\n    return axios.get(\n      `${BASE_URL}?q=${this.query}&page=${this.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    );\n  },\n\n  get searchQuery() {\n    return this.query;\n  },\n\n  set searchQuery(string) {\n    this.query = string;\n  },\n\n  incrementPage() {\n    this.page += 1;\n  },\n\n  resetPage() {\n    this.page = 1;\n  },\n};\n","import React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  state = {};\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    const { onCloseModal } = this.props;\n\n    if (e.code !== 'Escape') return;\n\n    onCloseModal();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n    const { onCloseModal } = this.props;\n\n    if (current && e.target !== current) return;\n\n    onCloseModal();\n  };\n\n  render() {\n    const { src } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.Modal}>\n          <img src={src} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styles from './Button.module.css';\n\nexport default class Button extends Component {\n  state = {};\n  render() {\n    return (\n      <>\n        <button\n          type=\"button\"\n          className={styles.Button}\n          onClick={this.props.onChange}\n        >\n          Load more\n        </button>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from '../components/App.module.css';\nimport Loader from './Loader/Loader';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport imagesApi from '../api/imagesApi/imagesApi';\nimport Modal from './Modal/Modal';\nimport Button from './Button/Button';\n\nconst mapper = images => {\n  return images.map(\n    ({ webformatURL: url, largeImageURL: modalURL, ...props }) => ({\n      url,\n      modalURL,\n      ...props,\n    }),\n  );\n};\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    isModalOpen: false,\n    modalSize: '',\n  };\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  imagesListQuery = () => {\n    imagesApi\n      .articlesQuery()\n      .then(({ data }) => {\n        imagesApi.incrementPage();\n        this.setState(state => ({\n          images: [...state.images, ...mapper(data.hits)],\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  clearImages = () => {\n    this.setState({ images: '' });\n  };\n\n  fetchImages = query => {\n    this.setState({ isLoading: true });\n    this.clearImages();\n\n    imagesApi.resetPage();\n    imagesApi.searchQuery = query;\n\n    this.imagesListQuery();\n  };\n\n  handleLoadMore = () => {\n    this.setState({ isLoading: true });\n    this.imagesListQuery();\n  };\n\n  handleModalUrlChange = url => {\n    this.setState({ modalSize: url });\n  };\n\n  handleOpenModal = () => {\n    this.setState({ isModalOpen: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isModalOpen: false, modalSize: '' });\n  };\n\n  render() {\n    const { images, isLoading, error, isModalOpen, modalSize } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.fetchImages} />\n        {error && <ErrorNotification text={error.message} />}\n\n        {images.length > 0 && (\n          <ImageGallery\n            onChange={this.handleModalUrlChange}\n            onModalOpen={this.handleOpenModal}\n          >\n            <ImageGalleryItem items={images} />\n          </ImageGallery>\n        )}\n        {isLoading && <Loader />}\n        {isModalOpen && (\n          <Modal onCloseModal={this.handleCloseModal} src={modalSize} />\n        )}\n        {images.length > 0 && <Button onChange={this.handleLoadMore} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"Searcbar_App__2HvsA\",\"Searchbar\":\"Searcbar_Searchbar__srXIb\",\"SearchForm\":\"Searcbar_SearchForm__P4C8_\",\"SearchFormButton\":\"Searcbar_SearchFormButton__xoJ5l\",\"SearchFormButtonLabel\":\"Searcbar_SearchFormButtonLabel__FERoQ\",\"SearchFormInput\":\"Searcbar_SearchFormInput__23e8C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}