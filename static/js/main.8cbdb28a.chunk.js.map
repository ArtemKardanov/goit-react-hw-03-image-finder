{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/App.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/ErrorNotification/ErrorNotification.js","api/imagesApi/imagesApi.js","components/Modal/Modal.js","components/Button/Button.js","components/App.js","index.js","components/Searchbar/Searcbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","type","autoComplete","autoFocus","placeholder","Component","ImageGallery","onModalOpen","srcset","currentTarget","prevProps","prevState","items","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onClick","children","ImageGalleryItem","alt","map","id","modalURL","url","key","ImageGalleryItemImage","src","srcSet","defaultProps","Loader","color","height","width","timeout","ErrorNotification","text","page","articlesQuery","axios","get","BASE_URL","string","incrementPage","resetPage","Modal","backdropRef","createRef","handleKeyPress","code","onCloseModal","handleBackdropClick","current","addEventListener","removeEventListener","Overlay","ref","Button","mapper","images","webformatURL","largeImageURL","App","isLoading","error","isModalOpen","modalSize","imgName","imagesListQuery","imagesApi","then","data","hits","length","alert","catch","finally","clearImages","fetchImages","searchQuery","handleLoadMore","handleModalUrlChange","handleOpenModal","handleCloseModal","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8cbdb28a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React, { Component } from 'react';\nimport styles from './Searcbar.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { query } = this.state;\n\n    if (!query) return;\n\n    this.props.onSubmit(query);\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            value={query}\n            onChange={this.handleChange}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class ImageGallery extends Component {\n  state = {};\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.items !== this.props.items) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChange = e => {\n    const { onChange, onModalOpen } = this.props;\n    const { srcset } = e.target;\n\n    if (e.target === e.currentTarget) return;\n\n    onChange(srcset);\n\n    onModalOpen();\n  };\n\n  render() {\n    return (\n      <>\n        <ul className={styles.ImageGallery} onClick={this.onChange}>\n          {this.props.children}\n        </ul>\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  items: PropTypes.array.isRequired,\n  children: PropTypes.element.isRequired,\n  onModalOpen: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ items, alt }) => (\n  <>\n    {items.map(({ id, modalURL, url }) => (\n      <li key={id}>\n        <img\n          className={styles.ImageGalleryItemImage}\n          src={url}\n          alt={alt}\n          srcSet={modalURL}\n        />\n      </li>\n    ))}\n  </>\n);\n\nImageGalleryItem.defaultProps = {\n  alt: 'some image',\n};\n\nImageGalleryItem.propTypes = {\n  alt: PropTypes.string,\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      modalURL: PropTypes.string.isRequired,\n      url: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Spinner from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => (\n  <Spinner\n    className={styles.Loader}\n    type=\"ThreeDots\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => (\n  <h1>What's up, dude? Oops: {text}. ¯\\_(ツ)_/¯</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '15651675-34a5d56e7ceea037b075b1fd1';\nconst Request_Type = 'image_type=photo&orientation=horizontal&per_page=12';\n\nexport default {\n  page: 1,\n  query: '',\n  articlesQuery() {\n    return axios.get(\n      BASE_URL +\n        '?q=' +\n        this.query +\n        '&page=' +\n        this.page +\n        '&key=' +\n        API_KEY +\n        Request_Type,\n    );\n  },\n\n  get searchQuery() {\n    return this.query;\n  },\n\n  set searchQuery(string) {\n    this.query = string;\n  },\n\n  incrementPage() {\n    this.page += 1;\n  },\n\n  resetPage() {\n    this.page = 1;\n  },\n};\n","import React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  state = {};\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onCloseModal();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n\n    if (current && e.target !== current) return;\n\n    this.props.onCloseModal();\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.Modal}>\n          <img src={src} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.defaultProps = {\n  alt: 'some image',\n};\n\nModal.propTypes = {\n  alt: PropTypes.string,\n  src: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onChange }) => (\n  <button type=\"button\" className={styles.Button} onClick={onChange}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\n\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from '../components/App.module.css';\nimport Loader from './Loader/Loader';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport imagesApi from '../api/imagesApi/imagesApi';\nimport Modal from './Modal/Modal';\nimport Button from './Button/Button';\n\nconst mapper = images => {\n  return images.map(\n    ({ webformatURL: url, largeImageURL: modalURL, ...props }) => ({\n      url,\n      modalURL,\n      ...props,\n    }),\n  );\n};\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    isModalOpen: false,\n    modalSize: '',\n    imgName: '',\n  };\n\n  imagesListQuery = () => {\n    imagesApi\n      .articlesQuery()\n      .then(({ data }) => {\n        if (data.hits.length === 0) {\n          alert('Please try another request.');\n        }\n\n        imagesApi.incrementPage();\n\n        this.setState(state => ({\n          images: [...state.images, ...mapper(data.hits)],\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  clearImages = () => {\n    this.setState({ images: '' });\n  };\n\n  fetchImages = query => {\n    this.setState({ isLoading: true, imgName: query });\n    this.clearImages();\n\n    imagesApi.resetPage();\n\n    imagesApi.searchQuery = query;\n\n    this.imagesListQuery();\n  };\n\n  handleLoadMore = () => {\n    this.setState({ isLoading: true });\n    this.imagesListQuery();\n  };\n\n  handleModalUrlChange = url => {\n    this.setState({ modalSize: url });\n  };\n\n  handleOpenModal = () => {\n    this.setState({ isModalOpen: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isModalOpen: false, modalSize: '' });\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      error,\n      isModalOpen,\n      modalSize,\n      imgName,\n    } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.fetchImages} />\n        {error && <ErrorNotification text={error.message} />}\n\n        {images.length > 0 && (\n          <ImageGallery\n            items={images}\n            onChange={this.handleModalUrlChange}\n            onModalOpen={this.handleOpenModal}\n          >\n            <ImageGalleryItem items={images} alt={imgName} />\n          </ImageGallery>\n        )}\n        {isLoading && <Loader />}\n        {isModalOpen && (\n          <Modal\n            onCloseModal={this.handleCloseModal}\n            src={modalSize}\n            alt={imgName}\n          />\n        )}\n        {images.length > 0 && <Button onChange={this.handleLoadMore} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"Searcbar_App__2HvsA\",\"Searchbar\":\"Searcbar_Searchbar__srXIb\",\"SearchForm\":\"Searcbar_SearchForm__P4C8_\",\"SearchFormButton\":\"Searcbar_SearchFormButton__xoJ5l\",\"SearchFormButtonLabel\":\"Searcbar_SearchFormButtonLabel__FERoQ\",\"SearchFormInput\":\"Searcbar_SearchFormInput__23e8C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}