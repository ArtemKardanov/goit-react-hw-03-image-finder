{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/App.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/ErrorNotification/ErrorNotification.js","api/imagesApi/imagesApi.js","components/Modal/Modal.js","components/Button/Button.js","components/App.js","index.js","components/Searchbar/Searcbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","type","autoComplete","autoFocus","placeholder","Component","ImageGallery","onModalOpen","srcset","currentTarget","prevProps","prevState","items","window","scrollTo","top","document","documentElement","scrollHeight","behavior","children","onClick","ImageGalleryItem","map","id","modalURL","url","key","ImageGalleryItemImage","src","alt","srcSet","Loader","color","height","width","timeout","ErrorNotification","text","page","articlesQuery","axios","get","string","incrementPage","resetPage","Modal","backdropRef","createRef","handleKeyPress","onCloseModal","code","handleBackdropClick","current","addEventListener","removeEventListener","Overlay","ref","Button","mapper","images","webformatURL","largeImageURL","App","isLoading","error","isModalOpen","modalSize","imagesListQuery","imagesApi","then","data","hits","catch","finally","clearImages","fetchImages","searchQuery","handleLoadMore","handleModalUrlChange","handleOpenModal","handleCloseModal","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.53a02ee3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React, { Component } from 'react';\nimport styles from './Searcbar.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            value={query}\n            onChange={this.handleChange}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport styles from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class ImageGallery extends Component {\n  state = {};\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.items !== this.props.items) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChange = e => {\n    const { onChange, onModalOpen } = this.props;\n    const { srcset } = e.target;\n\n    if (e.target === e.currentTarget) return;\n\n    onChange(srcset);\n    onModalOpen();\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <>\n        <ul className={styles.ImageGallery} onClick={this.onChange}>\n          {children}\n        </ul>\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf().isRequired,\n  children: PropTypes.element.isRequired,\n  onModalOpen: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ items }) => (\n  <>\n    {items.map(({ id, modalURL, url }) => (\n      <li key={id}>\n        <img\n          className={styles.ImageGalleryItemImage}\n          src={url}\n          alt=\"\"\n          srcSet={modalURL}\n        />\n      </li>\n    ))}\n  </>\n);\n\nImageGalleryItem.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      modalURL: PropTypes.string.isRequired,\n      url: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport Spinner from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => (\n  <Spinner\n    className={styles.Loader}\n    type=\"ThreeDots\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => (\n  <h1>What's up, dude? Oops: {text}. ¯\\_(ツ)_/¯</h1>\n);\n\nErrorNotification.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n\nexport default ErrorNotification;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '15651675-34a5d56e7ceea037b075b1fd1';\n\nexport default {\n  page: 1,\n  query: ' ',\n  articlesQuery() {\n    return axios.get(\n      `${BASE_URL}?q=${this.query}&page=${this.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    );\n  },\n\n  get searchQuery() {\n    return this.query;\n  },\n\n  set searchQuery(string) {\n    this.query = string;\n  },\n\n  incrementPage() {\n    this.page += 1;\n  },\n\n  resetPage() {\n    this.page = 1;\n  },\n};\n","import React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Modal extends Component {\n  state = {};\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    const { onCloseModal } = this.props;\n\n    if (e.code !== 'Escape') return;\n    onCloseModal();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n    const { onCloseModal } = this.props;\n\n    if (current && e.target !== current) return;\n    onCloseModal();\n  };\n\n  render() {\n    const { src } = this.props;\n\n    return (\n      <div\n        className={styles.Overlay}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.Modal}>\n          <img src={src} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport styles from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onChange }) => (\n  <button type=\"button\" className={styles.Button} onClick={onChange}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from '../components/App.module.css';\nimport Loader from './Loader/Loader';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport imagesApi from '../api/imagesApi/imagesApi';\nimport Modal from './Modal/Modal';\nimport Button from './Button/Button';\n\nconst mapper = images => {\n  return images.map(\n    ({ webformatURL: url, largeImageURL: modalURL, ...props }) => ({\n      url,\n      modalURL,\n      ...props,\n    }),\n  );\n};\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    isLoading: false,\n    error: null,\n    isModalOpen: false,\n    modalSize: '',\n  };\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  imagesListQuery = () => {\n    imagesApi\n      .articlesQuery()\n      .then(({ data }) => {\n        imagesApi.incrementPage();\n        this.setState(state => ({\n          images: [...state.images, ...mapper(data.hits)],\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  };\n\n  clearImages = () => {\n    this.setState({ images: '' });\n  };\n\n  fetchImages = query => {\n    this.setState({ isLoading: true });\n    this.clearImages();\n\n    imagesApi.resetPage();\n    imagesApi.searchQuery = query;\n\n    this.imagesListQuery();\n  };\n\n  handleLoadMore = () => {\n    this.setState({ isLoading: true });\n    this.imagesListQuery();\n  };\n\n  handleModalUrlChange = url => {\n    this.setState({ modalSize: url });\n  };\n\n  handleOpenModal = () => {\n    this.setState({ isModalOpen: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isModalOpen: false, modalSize: '' });\n  };\n\n  render() {\n    const { images, isLoading, error, isModalOpen, modalSize } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.fetchImages} />\n        {error && <ErrorNotification text={error.message} />}\n\n        {images.length > 0 && (\n          <ImageGallery\n            items={images}\n            onChange={this.handleModalUrlChange}\n            onModalOpen={this.handleOpenModal}\n          >\n            <ImageGalleryItem items={images} />\n          </ImageGallery>\n        )}\n        {isLoading && <Loader />}\n        {isModalOpen && (\n          <Modal onCloseModal={this.handleCloseModal} src={modalSize} />\n        )}\n        {images.length > 0 && <Button onChange={this.handleLoadMore} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"Searcbar_App__2HvsA\",\"Searchbar\":\"Searcbar_Searchbar__srXIb\",\"SearchForm\":\"Searcbar_SearchForm__P4C8_\",\"SearchFormButton\":\"Searcbar_SearchFormButton__xoJ5l\",\"SearchFormButtonLabel\":\"Searcbar_SearchFormButtonLabel__FERoQ\",\"SearchFormInput\":\"Searcbar_SearchFormInput__23e8C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}